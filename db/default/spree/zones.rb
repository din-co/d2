regions = [
  {
    name: "San Francisco",
    desc: "San Francisco Proper - The 7x7",
    postal_codes: %w(
      94101 94102 94103 94104 94105 94107 94108 94109 94110 94111 94112 94114 94115 94116 94117
      94118 94119 94120 94121 94122 94123 94124 94125 94126 94127 94128 94129       94131 94132
      94133 94134 94137 94139 94140 94141 94142 94143 94144 94145 94146 94147 94151 94153 94154
      94156 94158 94159 94160 94161 94162 94163 94164 94171 94172 94177 94188 94199
    ),
  },
  {
    name: "East Bay",
    desc: "East Bay",
    postal_codes: %w(
      94130
      94501 94502 94530 94549 94563 94595 94596 94597 94598 94601 94602 94603 94604 94605 94606
      94607 94608 94609 94610 94611 94612 94613 94614 94615 94617 94618 94619 94620 94621 94623
      94624 94661 94662 94701 94702 94703 94704 94705 94706 94707 94708 94709 94710 94712 94801
      94802 94803 94804 94805 94806 94807 94808 94820 94850
    ),
  },
  {
    name: "North Bay",
    desc: "North Bay",
    postal_codes: %w(
      94901 94903 94904 94912 94913 94914 94915 94920 94925 94930 94933 94939 94941 94942 94945
      94946 94947 94948 94949 94957 94960 94964 94965 94966 94973 94974 94976 94977 94978 94979
    ),
  },
  {
    name: "Peninsula",
    desc: "San Francisco Peninsula",
    postal_codes: %w(
      94002 94003 94005 94010 94011 94012 94014 94015 94016 94017 94022 94023 94024 94025 94026
      94027 94028 94029 94030 94031 94035 94037 94039 94040 94041 94042 94043 94059 94061 94062
      94063 94064 94065 94066 94067 94070 94071 94074 94080 94083 94085 94086 94087 94088 94089
      94090 94096 94098 94099 94301 94302 94303 94304 94305 94306 94307 94308 94309 94310 94401
      94402 94403 94404 94405 94406 94407 94408 94409 94497 95002 95014 95015 95050 95051 95052
      95054 95055 95056 95101 95102 95103 95106 95108 95109 95110 95111 95112 95113 95114 95115
      95116 95117 95118 95119 95120 95121 95122 95123 95124 95125 95126 95127 95128 95129 95130
      95131 95132 95133 95134 95135 95136 95137 95138 95139 95140 95141 95142 95148 95150 95151
      95152 95153 95154 95155 95156 95157 95158 95159 95160 95161 95164 95170 95171 95172 95173
    ),
  },
]

regions.each do |region|
  ActiveRecord::Base.transaction do
    zone = Spree::Zone.find_or_create_by!(name: region[:name]) do |s|
      s.description = region[:desc]
      s.default_tax = false
    end

    region[:postal_codes].map do |p|
      postal_code = Spree::PostalCode.find_or_create_by!(value: p, country: Spree::Country.default)
      zone.zone_members.create!(zoneable: postal_code)
    end
  end
end
